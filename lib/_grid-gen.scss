// 
// Measurement Configuration
// 
$grid-gen-max-width:		70rem 	!default;
$grid-gen-gutter-width:		1rem 	!default;
$grid-gen-flow-direction:	left	!default;
$grid-gen-column-count:		12		!default;

// 
// Selectors
// 
$grid-gen-container-class:		"grid-gen-container" 	!default;
$grid-gen-row-class:			"grid-gen-row"			!default;
$grid-gen-column-class:			"grid-gen-column"		!default;
$grid-gen-column-class-prefix:	"col-"					!default;

@function grid-gen-ensure-class($str) {
	$char: str-slice($str, 0, 1);

	@if ($char != ".") {
		$str: "." + $str;
	}

	@return $str;
}

@function grid-gen-column-class(
	$count:		null,
	$prefix: 	$grid-gen-column-class-prefix) {

	@return grid-gen-ensure-class($prefix + $count);
}

@mixin grid-gen-container(
	$max-width: $grid-gen-max-width) {

	display: block;
	width: auto;
	max-width: $max-width;
}

@mixin grid-gen-row(
	$gutter-width: $grid-gen-gutter-width) {

	width: auto;
	display: block;
	margin-left: $gutter-width * -0.5;
	margin-right: $gutter-width * -0.5;
	
	&:after {
		content: ' ';
		clear: both;
	}
}

@mixin grid-gen-column(
	$flow-direction: 	$grid-gen-flow-direction,
	$gutter-width: 		$grid-gen-gutter-width) {

	box-sizing: border-box;
	display: block;
	float: $flow-direction;
	padding-left: $gutter-width * 0.5;
	padding-right: $gutter-width * 0.5;
}

@mixin grid-gen-column-width(
	$column-count: 	$grid-gen-column-count,
	$column-span: 	null) {

	width: 100% / $column-count * $column-span;
}

@mixin grid-gen-column-classes(
	$column-count: 		$grid-gen-column-count,
	$class-formatter: 	grid-gen-column-class) {

	@for $i from 1 through $column-count {
		$class: call($class-formatter, $i, $grid-gen-column-class-prefix);

		#{$class} {
			@include grid-gen-column-width(
				$column-count: $column-count,
				$column-span: $i
			);
		}
	}
}

@mixin grid-gen-grid-classes() {

	.grid-gen-container {
		@include grid-gen-container();
	}

	.grid-gen-row {
		@include grid-gen-row();
	}

	.grid-gen-col {
		@include grid-gen-column;
	}

	@include grid-gen-column-classes();
}